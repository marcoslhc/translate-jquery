!function(a){var t,e,n,r,l;return t={},e="locale/",l=function(t,e){var n;return i18n(t),n=a(e),n.each(function(t,e){var n;return n=a(e),n.attr("placeholder")&&(n.data("placeholder")||n.data("placeholder",n.attr("placeholder")),n.attr("placeholder",i18n._(n.data("placeholder")))),n.attr("value")&&(n.data("value")||n.data("value",n.attr("value")),n.attr("value",i18n._(n.data("value")))),n.data("text")||n.data("text",n.html()),n.html(i18n._(n.data("text")))}),n},n=function(t,e){var n;return n=a.ajax({url:t,dataType:"json"}),n.done(function(a){return a=a["Accept-Language"].split(";")[0].split(",")[1],e(a)})},r=function(n,r){var l;return t[n]?r(t[n]):(l=a.ajax({url:e+"/"+n+".json",dataType:"json",contentType:"application/json; charset=utf-8"}),l.done(function(a){return t[n]=a,r(a)}))},a.fn.translate=function(t){var e,u;return t=t||{},u={detectUrl:"",localeFolder:"locale",language:"en"},u=a.extend(u,t),e=this,t.language?r(u.language,function(a){return e=l(a,e),e.trigger("translate:translated",[u.language]),e}):n(u.detectUrl,function(n){return t.language=n,u=a.extend(u,t),r(n,function(a){return e=l(a,e),e.trigger("translate:translated",[u.language]),e})}),e}}(jQuery);